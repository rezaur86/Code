import os
import re
import signal
import json
from time import sleep, time
from threading import Thread, Lock

worker_list = []
# Makes 10 workers, each of them will issue a request every 10 seconds.
# Total request rate: 10/10*3600 = 3600.
num_threads = 10
signal.signal(signal.SIGPIPE, signal.SIG_IGN)
for i in range(num_threads):
    worker_id = Thread(target = worker)
    worker_list.append(worker_id)
    worker_id.daemon = True
    worker_id.start()

# Blocks until all tasks are done.
for worker_id in worker_list:
    worker_id.join()

#status.close()

