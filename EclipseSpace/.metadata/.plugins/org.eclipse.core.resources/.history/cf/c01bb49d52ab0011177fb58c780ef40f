import sys
import os
import fnmatch
import shutil

json_file_pattern = '*.json'

def recursive_directory_content_move(root, where_to_move):
    for root_next, dirs_next, files_next in os.walk(dir):
        shutil.move(each_dir, where_to_move)
    

if(len(sys.argv) > 1):
    for root, dirs, files in os.walk(sys.argv[1]):
        os.chdir(sys.argv[1])
        for dir in dirs:
            print dir
#                message_ids = {}
#            fb_wall_last_value = fb_wall_last_value + 1
            for each_dir in os.listdir(dir):
                    os.rename(dir, 'temp')
                    recursive_directory_content_move(os.path.join(sys.argv[1], 'temp'), os.path.join(sys.argv[1], dir))
                    os.remove('temp')
            for root_next, dirs_next, files_next in os.walk(dir):
                for each_file in fnmatch(files_next, json_file_pattern):
#                    open(sys.argv[1]+"temp.json", "w").close() #To empty the file
#                    FILE = open (sys.argv[1]+"temp.json", "a")
#                        print (sys.argv[1]+dir+'/'+each_file)
                    json_strings = open (sys.argv[1]+dir+'/'+each_file)
#                    working_json_file_name = dir+'/'+each_file
#                    raw_input('press a key')
#                    describe_this(json_strings)
#                    FILE.close()
else:
    print('Give a path for Json directories')
